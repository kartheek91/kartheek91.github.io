version: '3'
services:
    jekyll:
        image: jekyll/jekyll:3.8.3
        container_name: kartheek91.github.io
        environment:
            - JEKYILL_ENV=docker
        # working on one post - use incremental mode
        # command: jekyll serve --host 0.0.0.0 --drafts --config _config.yml,_config_dev.yml --watch --incremental

        # add new post - no incremental mode, Jekyll will regenerate dependencies on save
        command: jekyll serve --host 0.0.0.0 --drafts --config _config.yml,

        # work on design - no incremental mode, no drafts, looks like production
        # command: jekyll serve --host 0.0.0.0 --config _config.yml --watch

        volumes:
            - .:/srv/jekyll
            - ./vendor/bundle:/usr/local/bundle

        ports:
            - 4000:4000